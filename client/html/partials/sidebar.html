<!--
 * @Author: aurson jassimxiong@gmail.com
 * @Date: 2025-09-14 17:33:37
 * @LastEditors: aurson jassimxiong@gmail.com
 * @LastEditTime: 2025-11-07 03:45:58
 * @Description:
 *        ___ ___ _________ ___  ___ 
 *       / _ `/ // / __(_-</ _ \/ _ \
 *       \_,_/\_,_/_/ /___/\___/_//_/
 *      
 * Copyright (c) 2025 by Aurson, All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->
 
<nav class="sidebar">
    <div class="sidebar-header">
        <h2>
            <svg viewBox="0 0 24 24" fill="none">
                <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            固件管理系统
        </h2>
    </div>
    <ul class="sidebar-menu">
        <!-- 固件列表 - 所有用户可见 -->
        <li class="has-submenu">
            <button class="menu-item submenu-toggle" type="button" data-page="firmware-list">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                固件列表
                <span class="submenu-arrow" aria-hidden="true"></span>
            </button>
            <ul class="submenu">
                <li>
                    <a href="/firmwares/release-list" class="menu-item submenu-item" data-page="release-list">
                        ▫️ 发布列表
                    </a>
                </li>
                <li data-requires-role="admin,developer,tester">
                    <a href="/firmwares/test-list" class="menu-item submenu-item" data-page="test-list">
                        ▫️ 测试列表
                    </a>
                </li>
                <li data-requires-role="admin,developer">
                    <a href="/firmwares/upload-list" class="menu-item submenu-item" data-page="upload-list">
                        ▫️ 上传列表
                    </a>
                </li>
                <li>
                    <a href="/firmwares/rejected-list" class="menu-item submenu-item" data-page="rejected-list">
                        ▫️ 驳回列表
                    </a>
                </li>
                <li>
                    <a href="/firmwares/my-related" class="menu-item submenu-item" data-page="my-related">
                        ▫️ 和我相关
                    </a>
                </li>
            </ul>
        </li>
        <li class="has-submenu">
            <button class="menu-item submenu-toggle" type="button" data-page="firmware-management">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                固件管理
                <span class="submenu-arrow" aria-hidden="true"></span>
            </button>
            <ul class="submenu">
                <li>
                    <a href="/manage/firmware?section=upload" class="menu-item submenu-item" data-page="firmware-management-upload">
                        ▫️ 上传固件
                    </a>
                </li>
                <li>
                    <a href="/manage/firmware?section=modules" class="menu-item submenu-item" data-page="firmware-management-modules">
                        ▫️ 模块管理
                    </a>
                </li>
                <li>
                    <a href="/manage/firmware?section=projects" class="menu-item submenu-item" data-page="firmware-management-projects">
                        ▫️ 项目管理
                    </a>
                </li>
            </ul>
        </li>
        <li class="has-submenu">
            <button class="menu-item submenu-toggle" type="button" data-page="system-management">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                系统管理
                <span class="submenu-arrow" aria-hidden="true"></span>
            </button>
            <ul class="submenu">
                <li>
                    <a href="/system?section=users" class="menu-item submenu-item" data-page="system-management-users">
                        ▫️ 用户管理
                    </a>
                </li>
                <li>
                    <a href="/system?section=settings" class="menu-item submenu-item" data-page="system-management-settings">
                        ▫️ 系统设置
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="/about" class="menu-item" data-page="about">
                <svg viewBox="0 0 24 24">
                    <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-6h2V17z M13,9h-2V7h2V9z" />
                </svg>
                关于系统
            </a>
        </li>
    </ul>
    <div class="sidebar-footer">
        <div class="user-info">
            <span id="userRole" class="user-role"></span>
            <button id="logoutBtn" class="logout-btn">
                <svg viewBox="0 0 24 24">
                    <path d="M17,7l-1.41,1.41L18.17,11H8v2h10.17l-2.58,2.58L17,17l5-5L17,7z M4,5h8V3H4C2.9,3,2,3.9,2,5v14c0,1.1,0.9,2,2,2h8v-2H4V5z" />
                </svg>
                退出
            </button>
        </div>
        <div class="sidebar-version">v1.0.0</div>
    </div>
</nav>
