<!--
 * @Author: aurson jassimxiong@gmail.com
 * @Date: 2025-09-14 17:33:37
 * @LastEditors: aurson jassimxiong@gmail.com
 * @LastEditTime: 2025-11-07 04:53:08
 * @Description:
 *        ___ ___ _________ ___  ___ 
 *       / _ `/ // / __(_-</ _ \/ _ \
 *       \_,_/\_,_/_/ /___/\___/_//_/
 *      
 * Copyright (c) 2025 by Aurson, All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->
 
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>固件管理系统 - 固件管理</title>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/firmware-management.css">
</head>
<body>
    <div class="dashboard-container">
        <div id="sidebarContainer"></div>
        <main class="main-content">
            <div id="headerContainer"></div>
            <div class="content-area">
                <div class="page active">
                    <div class="tab-content">
                        <div id="upload" class="tab-pane">
                            <div class="upload-card">
                                <div class="upload-card__header">
                                    <div>
                                        <h2 class="upload-card__title">上传固件</h2>
                                        <p class="upload-card__subtitle">请认真填写固件基础信息并上传文件，如有问题可咨询相关人员。</p>
                                    </div>
                                    <i class="fas fa-cloud-upload-alt upload-card__icon" aria-hidden="true"></i>
                                </div>
                                <form id="uploadForm" class="upload-form">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="moduleSelect">模块名 *</label>
                                            <select id="moduleSelect" name="module_id" required>
                                                <option value="">请选择模块</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="projectSelect">项目名 *</label>
                                            <select id="projectSelect" name="project_id" required>
                                                <option value="">请选择项目</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="version">版本号 *</label>
                                        <input type="text" id="version" name="version" required placeholder="例如: v1.5.1" pattern="^v\d+\.\d+\.\d+$">
                                    </div>
                                    <div class="form-group">
                                        <label for="description">固件描述</label>
                                        <textarea id="description" name="description" rows="3" placeholder="请输入固件描述..."></textarea>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group" style="flex: 1;">
                                            <label for="firmwareFile">固件文件 *</label>
                                            <input type="file" id="firmwareFile" name="firmware" accept=".bin,.hex,.img,.zip,.tar.gz" required>
                                        </div>
                                        <div class="form-group" style="display: flex; align-items: flex-end;">
                                            <button type="submit" class="submit-btn">
                                                <i class="fas fa-upload"></i>
                                                上传固件
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div id="modules" class="tab-pane">
                            <div class="management-header">
                                <h3>模块管理</h3>
                                <button id="addModuleBtn" class="add-btn">
                                    <i class="fas fa-plus"></i>
                                    添加模块
                                </button>
                            </div>
                            <div class="management-list" id="modulesList"></div>
                        </div>
                        <div id="projects" class="tab-pane">
                            <div class="management-header">
                                <h3>项目管理</h3>
                                <button id="addProjectBtn" class="add-btn">
                                    <i class="fas fa-plus"></i>
                                    添加项目
                                </button>
                            </div>
                            <div class="management-list" id="projectsList"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <script src="../js/common.js"></script>
    <script src="../js/firmware_manager.js"></script>
    <script src="../js/modal_manager.js"></script>
    <script src="../js/pages/firmware-management-page.js"></script>
</body>
</html>
